{"version":3,"sources":["components/Filter.js","components/Header.js","components/FormInput.js","components/SubmitButton.js","components/Form.js","components/PersonsList.js","backend/backend.js","components/NotificationError.js","components/NotificationAdded.js","App.js","index.js"],"names":["Filter","handleChange","value","type","onChange","Header","h","text","FormInput","SubmitButton","Form","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","PersonsList","persons","handleDelete","map","p","Fragment","name","number","onClick","id","url","backend","getPersons","axios","get","then","res","data","setPerson","person","post","deletePerson","delete","replaceNumber","changePerson","put","NotificationError","message","className","NotificationAdded","App","useState","setPersons","setNewName","setNewNumber","searchValue","setSearchValue","errorMessage","setErrorMessage","addedMessage","setAddedMessage","filteredPersons","setFilteredPersons","useEffect","showError","error","setTimeout","showAdd","resetForm","resetPersons","newPersons","e","newSearch","target","filterPersons","filter","toLowerCase","includes","preventDefault","some","window","confirm","find","Object","assign","catch","concat","theNewName","theNewNumber","personToDelete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37a14685.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleChange, value}) => {\r\n  return (\r\n    <div>\r\n    filter show with{' '}\r\n    <input type='text' onChange={handleChange} value={value} />\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react';\r\n\r\nconst Header = ({ h, text }) => {\r\n  switch (h) {\r\n    case 1:\r\n      return <h1>{text}</h1>;\r\n    case 2:\r\n      return <h2>{text}</h2>;\r\n    case 3:\r\n      return <h3>{text}</h3>;\r\n    case 4:\r\n      return <h4>{text}</h4>;\r\n    case 5:\r\n      return <h5>{text}</h5>;\r\n    case 6:\r\n      return <h6>{text}</h6>;\r\n    default:\r\n      return <h1>{text}</h1>;\r\n  }\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst FormInput = ({ text, type, handleChange, value }) => {\r\n  return (\r\n    <div>\r\n      {text} <input type={type} onChange={handleChange} value={value} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormInput;\r\n","import React from 'react';\r\n\r\nconst SubmitButton = ({ text }) => {\r\n  return (\r\n    <div>\r\n      <button type='submit'>{text}</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n","import React from 'react';\r\nimport FormInput from './FormInput';\r\nimport SubmitButton from './SubmitButton';\r\n\r\nconst Form = ({\r\n  handleSubmit,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <FormInput\r\n        text='Name'\r\n        type='text'\r\n        handleChange={handleNameChange}\r\n        value={newName}\r\n      />\r\n      <FormInput\r\n        text='Number'\r\n        type='text'\r\n        handleChange={handleNumberChange}\r\n        value={newNumber}\r\n      />\r\n      <SubmitButton text='Add' />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nconst PersonsList = ({ persons, handleDelete }) => {\r\n  return (\r\n    <>\r\n      {persons.map((p) => {\r\n        const onHandleDelete = () => {\r\n          handleDelete(p.id);\r\n        };\r\n        return (\r\n          <React.Fragment key={p.id}>\r\n            <p>\r\n              name: {p.name} <br /> number: {p.number}\r\n            </p>\r\n            <button onClick={onHandleDelete}>Delete</button>\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonsList;\r\n","import axios from 'axios';\r\n\r\nconst url = 'https://blooming-sea-12590.herokuapp.com/api/persons';\r\n\r\nconst getPersons = () => {\r\n  const response = axios.get(url);\r\n\r\n  return response.then((res) => res.data);\r\n};\r\n\r\nconst setPerson = (person) => {\r\n  const response = axios.post(url, person);\r\n  return response.then((res) => res.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const response = axios.delete(`${url}/${id}`);\r\n  return response.then((res) => res.data);\r\n};\r\n\r\nconst replaceNumber = (changePerson) => {\r\n  const response = axios.put(`${url}/${changePerson.id}`, changePerson);\r\n  return response.then(res => res.data);\r\n}\r\n\r\nconst backend = {\r\n  getPersons,\r\n  setPerson,\r\n  deletePerson,\r\n  replaceNumber,\r\n};\r\n\r\nexport default backend;\r\n","import React from 'react';\r\n\r\nconst NotificationError = ({ message }) => {\r\n  if (!message) {\r\n    return null;\r\n  }\r\n  return <div className='error'>{message}</div>;\r\n};\r\n\r\nexport default NotificationError;\r\n","import React from 'react'\r\n\r\nconst NotificationAdded = ({message}) => {\r\n  if (!message) {\r\n    return null;\r\n  }\r\n  return <div className='added'>{message}</div>;\r\n};\r\n\r\nexport default NotificationAdded\r\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Header from './components/Header';\nimport Form from './components/Form';\nimport PersonsList from './components/PersonsList';\nimport backend from './backend/backend';\nimport NotificationError from './components/NotificationError';\nimport NotificationAdded from './components/NotificationAdded';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [addedMessage, setAddedMessage] = useState(null);\n  const [filteredPersons, setFilteredPersons] = useState(persons);\n\n  const getPersons = () => {\n    backend.getPersons().then((data) => {\n      setPersons([...data]);\n    });\n  };\n\n  useEffect(getPersons, []);\n\n  useEffect(() => {\n    setFilteredPersons(persons);\n  }, [persons]);\n\n  const resetError = () => setErrorMessage('');\n\n  const showError = (error) => {\n    setErrorMessage(error);\n    return setTimeout(() => {\n      resetError();\n    }, 5000);\n  };\n\n  const resetAdd = () => setAddedMessage('');\n\n  const showAdd = (name) => {\n    setAddedMessage(`Added ${name}`);\n    return setTimeout(() => {\n      resetAdd();\n    }, 5000);\n  };\n\n  const resetForm = () => {\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const resetPersons = (newPersons) => {\n    setPersons(newPersons);\n    setFilteredPersons(newPersons);\n  };\n\n  const handleNameChange = (e) => {\n    const theNewName = e.target.value;\n    setNewName(theNewName);\n  };\n\n  const handleNumberChange = (e) => {\n    const theNewNumber = e.target.value;\n    setNewNumber(theNewNumber);\n  };\n\n  const handleFilterChange = (e) => {\n    const newSearch = e.target.value;\n    setSearchValue(newSearch);\n    const filterPersons = persons.filter((p) =>\n      p.name.toLowerCase().includes(newSearch.toLowerCase()),\n    );\n    setFilteredPersons(filterPersons);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (persons.some((p) => p.name.toLowerCase() === newName.toLowerCase())) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old phone number?`,\n        )\n      ) {\n        const changePerson = persons.find(\n          (p) => p.name.toLowerCase() === newName.toLowerCase(),\n        );\n        Object.assign(changePerson, { number: newNumber });\n        return backend\n          .replaceNumber(changePerson)\n          .then((res) => {\n            const newPersons = persons.map((p) => (p.id !== res.id ? p : res));\n            resetPersons(newPersons);\n            resetForm();\n          })\n          .catch(() =>\n            showError(\n              `information of ${newName} has already been remove from server`,\n            ),\n          );\n      }\n      return;\n    }\n    backend\n      .setPerson({ name: newName, number: newNumber })\n      .then((person) => {\n        const newPersons = persons.concat(person);\n        resetPersons(newPersons);\n      })\n      .then(() => showAdd(newName));\n    resetForm();\n  };\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.find((p) => p.id === id);\n    if (window.confirm(`Delete ${personToDelete.name}?`)) {\n      backend\n        .deletePerson(id)\n        .then(() => {\n          const newPersons = persons.filter((p) => p.id !== id);\n          resetPersons(newPersons);\n        })\n        .catch(() =>\n          showError(\n            `information of ${personToDelete.name} has already been remove from server`,\n          ),\n        );\n    }\n  };\n\n  return (\n    <>\n      <Header h={2} text='Phonebook' />\n      <NotificationAdded message={addedMessage} />\n      <NotificationError message={errorMessage} />\n      <Filter handleChange={handleFilterChange} value={searchValue} />\n      <Header h={3} text='Add a New' />\n      <Form\n        handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Header h={3} text='Numbers' />\n      <PersonsList persons={filteredPersons} handleDelete={deletePerson} />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}