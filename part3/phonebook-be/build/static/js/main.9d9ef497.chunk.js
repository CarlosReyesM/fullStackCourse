(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(16),o=n.n(a),u=n(17),s=n(3),i=n(0),j=function(e){var t=e.handleChange,n=e.value;return Object(i.jsxs)("div",{children:["filter show with"," ",Object(i.jsx)("input",{type:"text",onChange:t,value:n})]})},h=function(e){var t=e.h,n=e.text;switch(t){case 1:return Object(i.jsx)("h1",{children:n});case 2:return Object(i.jsx)("h2",{children:n});case 3:return Object(i.jsx)("h3",{children:n});case 4:return Object(i.jsx)("h4",{children:n});case 5:return Object(i.jsx)("h5",{children:n});case 6:return Object(i.jsx)("h6",{children:n});default:return Object(i.jsx)("h1",{children:n})}},b=function(e){var t=e.text,n=e.type,r=e.handleChange,c=e.value;return Object(i.jsxs)("div",{children:[t," ",Object(i.jsx)("input",{type:n,onChange:r,value:c})]})},d=function(e){var t=e.text;return Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:t})})},l=function(e){var t=e.handleSubmit,n=e.handleNameChange,r=e.handleNumberChange,c=e.newName,a=e.newNumber;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)(b,{text:"Name",type:"text",handleChange:n,value:c}),Object(i.jsx)(b,{text:"Number",type:"text",handleChange:r,value:a}),Object(i.jsx)(d,{text:"Add Person"})]})},f=function(e){var t=e.persons,n=e.handleDelete;return Object(i.jsx)(i.Fragment,{children:t.map((function(e){return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsxs)("p",{children:["name: ",e.name," ",Object(i.jsx)("br",{})," number: ",e.number]}),Object(i.jsx)("button",{onClick:function(){n(e.id)},children:"Delete"})]},e.id)}))})},m=n(5),O=n.n(m),x="https://blooming-sea-12590.herokuapp.com";console.log(x);var p={getPersons:function(){return O.a.get("".concat(x,"/api/persons")).then((function(e){return e.data}))},setPerson:function(e){return O.a.post("".concat(x,"/api/persons"),e).then((function(e){return e.data}))},deletePerson:function(e){return O.a.delete("".concat(x,"/api/persons/").concat(e)).then((function(e){return e.data}))},replaceNumber:function(e){return O.a.put("".concat(x,"/api/persons/").concat(e.id),e).then((function(e){return e.data}))}},v=function(e){var t=e.message;return t?Object(i.jsx)("div",{className:"error",children:t}):null},g=function(e){var t=e.message;return t?Object(i.jsx)("div",{className:"added",children:t}):null},w=(n(41),function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),o=Object(s.a)(a,2),b=o[0],d=o[1],m=Object(r.useState)(""),O=Object(s.a)(m,2),x=O[0],w=O[1],C=Object(r.useState)(""),N=Object(s.a)(C,2),S=N[0],y=N[1],k=Object(r.useState)(null),P=Object(s.a)(k,2),L=P[0],D=P[1],A=Object(r.useState)(null),E=Object(s.a)(A,2),F=E[0],J=E[1],T=Object(r.useState)(n),B=Object(s.a)(T,2),I=B[0],M=B[1];Object(r.useEffect)((function(){p.getPersons().then((function(e){c(Object(u.a)(e))}))}),[]),Object(r.useEffect)((function(){M(n)}),[n]);var q=function(e){return D(e),setTimeout((function(){D("")}),5e3)},z=function(e){return J("Added ".concat(e)),setTimeout((function(){J("")}),5e3)},G=function(){d(""),w("")},H=function(e){c(e),M(e)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h,{h:2,text:"Phonebook"}),Object(i.jsx)(g,{message:F}),Object(i.jsx)(v,{message:L}),Object(i.jsx)(j,{handleChange:function(e){var t=e.target.value;y(t);var r=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));M(r)},value:S}),Object(i.jsx)(h,{h:3,text:"Add a New"}),Object(i.jsx)(l,{handleSubmit:function(e){if(e.preventDefault(),n.some((function(e){return e.name.toLowerCase()===b.toLowerCase()}))){if(window.confirm("".concat(b," is already added to phonebook, replace the old phone number?"))){var t=n.find((function(e){return e.name.toLowerCase()===b.toLowerCase()}));return Object.assign(t,{number:x}),p.replaceNumber(t).then((function(e){var t=n.map((function(t){return t.id!==e.id?t:e}));H(t),G()})).catch((function(){return q("information of ".concat(b," has already been remove from server"))}))}}else p.setPerson({name:b,number:x}).then((function(e){var t=n.concat(e);H(t)})).then((function(){return z(b)})).catch((function(e){console.log(e.response.data),q(e.response.data.error)})),G()},handleNameChange:function(e){var t=e.target.value;d(t)},handleNumberChange:function(e){var t=e.target.value;w(t)},newName:b,newNumber:x}),Object(i.jsx)(h,{h:3,text:"Numbers"}),Object(i.jsx)(f,{persons:I,handleDelete:function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.name,"?"))&&p.deletePerson(e).then((function(){var t=n.filter((function(t){return t.id!==e}));H(t)})).catch((function(){return q("information of ".concat(t.name," has already been remove from server"))}))}})]})});o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.9d9ef497.chunk.js.map